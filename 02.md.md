# Searching for Census Variables of Interest

Before we can really do anything of interest with Census data, we should start with a topic of interest. Once you have a topic of interest, it's a matter of narrowing down Census' available data products to those which suit your needs in terms of geographic resolution (e.g.: National-level stats, Counties, Tracts, etc.) and time frame.

### What You Will Learn

In this tutorial, we will be covering how to focus in on the Census data products and - more specifically - variables (the identifiers of statistical characteristics available via API) which might be most useful in providing insight into our topic of interest (TOI).

We'll be using [American Factfinder](https://factfinder.census.gov/faces/nav/jsf/pages/index.xhtml) (AFF) for this purpose. In the future we will be creating a tutorial on how to use the up-coming [data.census.gov search application](data.census.gov), which is a planned replacement for AFF.


### Our Tutorial Touchstone

To help us illustrate a realistic users’ journey, we are going to need an example TOI. For this purpose, the author has chosen one that comes up frequently in recent (at the time of writing) news: **Income Inequality.**

> The Census Bureau has a microsite dedicated to this topic. For more information check out [https://www.census.gov/topics/income-poverty/income-inequality.html](https://www.census.gov/topics/income-poverty/income-inequality.html)

Let's say we'd like to see different states measure in terms of income inequality over time. So, in this case we now have a rough sketch of what kind of data we're looking for over the three dimensions covered in the first tutorial:

1. Time: We want to show change over time (either a time series or a vintaged product that contains the same measure over multiple vintages)
2. Space: We want a product that gives us statistics at the *state* level
3. Product: We want a product that covers the topic of income - more specifically - for individuals and households

### Getting started with American Factfinder

Let's begin by going over to [American Factfinder](https://factfinder.census.gov/faces/nav/jsf/pages/index.xhtml) and clicking "Advanced Search" and from the drop down "[show me all](https://factfinder.census.gov/faces/nav/jsf/pages/searchresults.xhtml?refresh=t)".


[IMAGE LOCATED IN DRIVE](https://drive.google.com/drive/u/0/folders/1HKNIfPqnloue3IUIUr_dtnJPV8etaECL)

From here we'll just type "income inequality" into the "topic or table name" search field. As we do, we will actually see some instant search results in the type-ahead dropdown below:

`B19083: GINI INDEX OF INCOME INEQUALITY`

We'll click this type-ahead option to select that search term, then click "GO." We should now see a table that looks something like this:

| ID | Table, File or Document Title | Dataset | About |
| --- | ---| --- | :---: |
| B19083 | [GINI INDEX OF INCOME INEQUALITY](https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_16_1YR_B19083&prodType=table) | 2016 ACS 1-year estimates | i |
| B19083 | [GINI INDEX OF INCOME INEQUALITY](https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_15_5YR_B19083&prodType=table) | 2015 ACS 5-year estimates | i |
| ... | ... | ... | ... |

At this point, we have a long list of potential candidates, but this may be shorter or longer than the results you may get for a different query. Let's narrow try to narrow this list down by choosing our **"Geographies"** by clicking the accordingly named sky blue button on the left of the page:

[IMAGE LOCATED IN DRIVE](https://drive.google.com/drive/u/0/folders/1HKNIfPqnloue3IUIUr_dtnJPV8etaECL)

This will bring up a dialog box from wherein you will select `State - 040` in this case. You'll then select `All States within the United States and Puerto Rico`, which will add this selection to **"Your Selections"** filters. Now, close the dialog box to view your shortlist. Notice that - in this case the list has not been reduced in size. This is because all of the Tables listed contain data that are available at the *state* level. Groovy. Let's continue.

### Choosing Our Dataset

Now that we have a short list of candidates, let's just choose the one at the top of the list:

| ID | Table, File or Document Title | Dataset | About |
| --- | ---| --- | :---: |
| B19083 | [GINI INDEX OF INCOME INEQUALITY](https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?pid=ACS_16_1YR_B19083&prodType=table) | 2016 ACS 1-year estimates | i |

This looks relevant enough.  We can also see on the left side of the results

You may be wondering what the difference between the ACS 1-year and the ACS 5-year are at this point, but - don't worry - we'll cover this in more depth in the next tutorial. For now, let's just say that we've found something that looks promising as a source and we'll hope for the best (spoiler: it all works out in the end) as we continue. All the while, we remember that we can reach out with questions via the contact info at the bottom of the tutorial!

#### Downloading the Data Directly

At this point, we could just download the data directly from AFF, which - if you're not a developer - might be the way to go. If this will suffice for you, click the **"Download"** button located above the table view results.

#### Getting the Information We Need to Make an API Request

If we'd like to make this call programatically, say for including this and/or other variables within a web/mobile application, we'll need to jot down some of this information for our work, which is continued in the following tutorials.

## Summary

We've used American Factfinder (AFF) to find a table `B19083` and variable name `GINI INDEX OF INCOME INEQUALITY` for our topic of interest (TOI) and at the geographic level we need: *states*. If we just needed to download this data, we have learned to do that and can call it a day.

If we need to learn how to access this data programatically (via API), we carry on in the next tutorial with these - now more refined - parts of the puzzle:

1. Time: We want to show change over time (either a time series or a vintaged product that contains the same measure over multiple vintages)
2. Space: We want a product that gives us statistics at the *state* level
3. Product: We want a product that covers the topic of income - more specifically - for individuals and households

##### Contact
If you have any questions, need any assistance or run into *any* problems along your learning path, please reach out on Census' [gitter channel](https://gitter.im/uscensusbureau/home) or reach out via email at [cnmp.developers.list@census.gov](mailto:cnmp.developers.list@census.gov). Users have found the Census staff helpful and responsive.





## Getting Started with the American Community Survey Data


This post will outline how the engineer, developer, data analyst, citizen hacker, government official can make sense of one of the Census’ most rewarding and complex products, The American Community Survey. Once users are comfortable using this Census product, the rest should be easy by extension. By using location data as an underlying contextual glue, the potential groups that could be impacted by understanding the data are unbound (citizens, businesses, and governments).

> TIP: If at any time you have difficulty finding what you are looking for or anything else related to getting the data you need, don’t hesitate to reach out for help at [cnmp.developers.list@census.gov](mailto:cnmp.developers.list@census.gov) or on [gitter](https://gitter.im/uscensusbureau/home). Users have found the Census staff helpful and responsive.

We’ll start by opening a manageable spigot from the Census data fire hydrant by using a tool such as the American FactFinder. In the near future, this app will be replaced with a new one, but let’s keep with tradition until it does. We’ll start by doing a “Advanced Search” then typing “Poverty” into the “Topic” field. You’ll see some instant results being returned as you type. Let’s go with the “Poverty” result there. We’re only looking for the survey (the source of the data) to search via API, which you will see at the very top of the page upon clicking the “Poverty” result:
S1702	POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES
2011-2015 American Community Survey 5-Year Estimates
The S in front of S1702 tells you to look for the S-tables (or Subject Tables) within the 2015 vintage of the American Community Survey.

## Getting Access

Accessing statistics via API (DataWeb)
Let’s start by getting the statistics we need (fill-in stat: Children living in poverty in 2015 – most current ACS available). First, we visit the DataWeb API by going to https://api.census.gov/data.html. This is a list of all the currently supported datasets the Census Bureau provides programmatic access to. We can quickly get to the year we want by adding it to the url like so:
https://api.census.gov/data/2015.html
We then scroll through the list to find what we’re looking for, namely: 2015 American Community Survey Subject Tables. Start by clicking the “variables” link: https://api.census.gov/data/2015/acs5/subject/variables.html
TIP: You’ll notice that the url gives the developer some affordances that will help you peruse through the available endpoints. For example, you can remove `variables` from the url, like this:
https://api.census.gov/data/2015/acs5/subject.html
Which will focus you on this single product. This what Census call’s the DataWeb “Discovery Tool”
In order to find the specific variable most relevant to our story, we’ll have to do some digging (ctrl+f “S1702”) within the “variables”. Now, the ACS 5-year is the largest of all of Census’ datasets in terms of the number of variables represented. The variable lists are huge, but if you can use the ACS, you are in good shape to use the other endpoints.
With a bit of digging, we’ve found our variables of interest. Let’s go with
S1702_C01_002E
All families!!Total!!Families!!With related children of householder under 18 years
POVERTY STATUS IN THE PAST 12 MONTHS OF FAMILIES
It’s a little cryptic, but this will give us all families with children under 18 living in poverty.
You can use the Discovery Tool to find an example of how to get the data by tract:
https://api.census.gov/data/2015/acs5/subject/examples.html
Let’s copy the example for tract (which gives you population, S0101_C01_001E) and add our variable, like so:
https://api.census.gov/data/2015/acs5/subject?get=NAME,S0101_C01_001E,S1702_C01_002E&for=tract:*&in=state:01
So, in order to get tract data, you will need to make this call for each state (01 = Alabama). The result looks like this:
[["NAME","S0101_C01_001E","S1702_C01_002E","state","county","tract"],
["Census Tract 201, Autauga County, Alabama","1948","223","01","001","020100"],
["Census Tract 202, Autauga County, Alabama","2156","228","01","001","020200"],
["Census Tract 203, Autauga County, Alabama","2968","325","01","001","020300"],
…

Now we know how to get our data. On to getting our geographies…
Again, never hesitate to reach out for help at cnmp.developers.list@census.gov for help. These are your “public servants” and they’re happy to serve you.
Accessing geographic boundaries via API (TigerWeb)
The TigerWeb is Census’ database of geographic boundaries. It’s an ESRI service, which has a web map service/API for which documentation can be found here:
https://tigerweb.geo.census.gov/tigerwebmain/TIGERweb_wms.html

We need 2015, so click on the “ACS 2015” link in the left-side menu. In the “Layers” we’ll need “Census Tracts.” The authors realize that going through this tutorial, at this point if not sooner, you might be thinking “wow, this is all over the place” and you’re right. These services are owned by different groups which have evolved technologically at different rates.
NOTE: The Census Bureau is working on making this experience more seamless (you can find an example of such effort with their CitySDK on github), but we’re kinda stuck with this until that works goes mainstream at the Bureau. If you like what the CitySDK is trying to do, give it a shout out on twitter to @uscensusbureau, star the repo and/or send an email to cnmp.developers.list@census.gov to show your support… in the meantime, back to the tutorial…
Once we’ve found the layer we’re looking for, let’s figure out how to build the query to get what we need. Go to the bottom of the tract page and click “Query.”
Now, for non-GIS users, we recommend reaching out for help at the email address provided above because some of the concepts are esoteric to that field, but for our purposes here, here’s how we construct our query:


This will give us…

<!--stackedit_data:
eyJoaXN0b3J5IjpbNzEyODgzOTYzXX0=
-->